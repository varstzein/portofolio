"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3907],{65513:function(e,t,r){r.d(t,{I:function(){return i},N:function(){return l.N}});var n=r(52322),a=r(25237),o=r.n(a),l=r(14068);let u=o()(()=>r.e(9756).then(r.bind(r,19756)).then(e=>e.ConfirmSafariClipboardComponent),{loadableGenerated:{webpack:()=>[19756]},ssr:!1}),i=()=>{let{onSucess:e}=(0,l.N)();return e&&(0,n.jsx)(u,{})}},14068:function(e,t,r){r.d(t,{N:function(){return o}});var n=r(53476);let a=(0,n.cn)({key:"confirmSafariClipboardState",default:null}),o=()=>{let[e,t]=(0,n.FV)(a);return{onClose:()=>t(null),setConfirm:e=>t({onSuccess:e}),onSucess:null==e?void 0:e.onSuccess}}},47168:function(e,t,r){r.d(t,{j:function(){return o}});var n=r(53476);let a=(0,n.cn)({key:"clipboardNotSupportedState",default:!1}),o=()=>{let[e,t]=(0,n.FV)(a);return{showClipboardNotSupportedAdvice:()=>t(!0),hideClipboardNotSupportedAdvice:()=>t(!1),clipboardNotSupportedAdvice:e}}},73041:function(e,t,r){r.d(t,{De:function(){return n},aV:function(){return o},cT:function(){return l},kr:function(){return a},rC:function(){return u}});let n=[512,256,128,64,32,24,16],a=512,o=96,l="https://fps.cdnpk.net/icons/",u={width:1462,height:820,url:"".concat(l,"meta/icons-meta.png")}},23907:function(e,t,r){r.d(t,{cT:function(){return n.cT},rC:function(){return n.rC},ac:function(){return R},xL:function(){return U},Zj:function(){return q},kr:function(){return n.kr},De:function(){return n.De},Gc:function(){return ea},qn:function(){return k},Wb:function(){return x},LZ:function(){return I},KX:function(){return E},j1:function(){return N},Fu:function(){return L},hj:function(){return W},zO:function(){return Z},xS:function(){return s},ZI:function(){return A},Ck:function(){return K},tj:function(){return G}});var n=r(73041),a=r(10106),o=r(12043),l=r(2784),u=r(65513),i=r(47168),c=r(50096);let s=(e,t)=>{let{freeSvg:r}=t,n=(0,c.HV)();return m({format:e,freeSvg:r,isUserPremium:n})},d=()=>{let e=(0,c.HV)();return(0,l.useCallback)((t,r)=>{let{freeSvg:n}=r;return m({format:t,freeSvg:n,isUserPremium:e})},[e])},m=e=>{let{format:t,freeSvg:r,isUserPremium:n}=e;return"svg"===t&&!n&&!r};var f=r(81325),g=r(21620),p=r(51464),b=r(9691);let h=()=>{let e=(0,b.PN)();return(0,l.useCallback)(t=>{var r;let{icon:n,format:a,...o}=t,{id:l,name:u,author:i,tags:c}=n;e({event:"ga4event",event_name:"file_download",category:"icons",file_name:u,file_id:l,tags:(null==c?void 0:null===(r=c[0])||void 0===r?void 0:r.name)||"na",file_extension:a,author_name:i.name,resolution:"na",style:"na",license:"png"===a?"free":"premium",...o})},[e])},v=()=>{let{t:e}=(0,f.$G)(["error","icons"]),{setToast:t}=(0,g.p)(),r=h(),n=(0,p.mS)(),[a,o]=(0,l.useState)(!1),u=(0,l.useCallback)(async(a,l,u,i)=>{try{await navigator.clipboard.write([a]),t({type:"success",title:e("icons:copyToClipboardSuccessTitle"),message:e("icons:copyToClipboardSuccessSubtitle"),testId:"copy-to-clipboard-success"})}catch(r){console.error(r),t({type:"danger",message:e("unknown")});return}finally{o(!1)}n({resourceId:l.id,premiumResource:!1,resourceType:"icon",downloadType:"copy"}),r({icon:l,format:u,location:i,action:"copy"})},[t,r,n,e]);return{copyToClipboardConfirm:u}};var z=r(5632);let y=async e=>{let{optionId:t,type:r,format:n,pngSize:a}=e,o=await fetch("/api/icon/download?optionId=".concat(t,"&format=").concat(n,"&type=").concat(r).concat(a?"&pngSize=".concat(a):""));return o.ok?{success:!0,data:await o.json()}:429===o.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===o.status||403===o.status||405===o.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===o.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}},C=()=>{let e=(0,c.Jb)(),t=w();return(0,l.useCallback)(async(r,n,a,o)=>{let l=await y({optionId:r,type:n,format:a,pngSize:o});if(!l.success){t(l);return}return e(),l.data},[t,e])},w=()=>{let{setToast:e}=(0,g.p)(),{t}=(0,f.$G)("error"),{push:r}=(0,z.useRouter)();return(0,l.useCallback)(n=>({DOWNLOAD_LIMIT_REACHED:()=>{"metadata"in n&&r(n.metadata)},AUTHENTICATION_ERROR:()=>{r("/oauth-logout")},NOT_FOUND:()=>{e({message:t("notFound")})},UNKNOWN_ERROR:()=>{e({message:t("unknown")})}})[n.data](),[r,e,t])},k=(e,t)=>{let[r,c]=(0,l.useState)(!1),s=C(),{showClipboardNotSupportedAdvice:m}=(0,i.j)(),{setConfirm:f}=(0,u.N)(),{copyToClipboardConfirm:g}=v(),p=d(),b=(0,l.useCallback)(async r=>{let l,{icon:u,format:i}=r;if(p(i,u)){t();return}if(!(0,o.C)()){m();return}c(!0);let{id:d}=u,b="png"===i?n.kr:void 0,h=await s(d,"copy",i,b);if(!h){c(!1);return}let{url:v}=h;if(a.G){let t="png"===i?"image/png":"text/plain";l=new ClipboardItem({[t]:S(v,i)}),f(()=>{g(l,u,i,e)}),c(!1);return}let z=await S(v,i);g(l=new ClipboardItem({[z.type]:z}),u,i,e),c(!1)},[p,s,g,e,t,m,f]);return(0,l.useMemo)(()=>({isCopying:r,copy:b}),[r,b])},S=async(e,t)=>{let r=await fetch(e);if("png"===t){let e=await r.blob();return e}let n=await r.text();return new Blob([n],{type:"text/plain"})};var _=r(17332);let x=(e,t,r)=>{let n=C(),a=h(),o=(0,p.mS)(),u=(0,_.V)(),[i,c]=(0,l.useState)(!1),s=d(),m=(0,l.useCallback)(l=>{let{icon:i,format:d,pngSize:m}=l;return async()=>{if(s(d,i)){t();return}let{id:l}=i;c(!0);let f=await n(l,"original",d,m);if(!f){c(!1);return}let{url:g,filename:p}=f;u(g,p),r(),o({resourceId:l,premiumResource:!1,resourceType:"icon",downloadType:"download"}),a({icon:i,format:d,location:e,action:"download"}),c(!1)}},[s,n,u,r,o,a,e,t]);return{download:m,isDownloading:i}};var j=r(78179);let N=()=>{let e=(0,j.$T)("/icon");return(0,l.useCallback)(t=>{let{slug:r}=t;return"".concat(e,"/").concat(r)},[e])};r(53476),r(53996);let T=(0,l.createContext)({}),I=()=>{let{showingAttribution:e,showAttribution:t,hideAttribution:r}=(0,l.useContext)(T);return{showingAttribution:e,showAttribution:t,hideAttribution:r}},E=()=>(0,l.useContext)(T),A=()=>{var e,t,r,n;let{name:a,style:o,thumbnails:u}=E();return(0,l.useMemo)(()=>{var e,t,r;return{large:{url:(null===(e=u.large)||void 0===e?void 0:e.url)||u.small.url,width:(null===(t=u.large)||void 0===t?void 0:t.width)||u.small.width,height:(null===(r=u.large)||void 0===r?void 0:r.height)||u.small.height},small:{url:u.small.url,width:u.small.width,height:u.small.height},title:a,style:null!==(n=null==o?void 0:o.name)&&void 0!==n?n:""}},[a,null==o?void 0:o.name,null===(e=u.large)||void 0===e?void 0:e.height,null===(t=u.large)||void 0===t?void 0:t.url,null===(r=u.large)||void 0===r?void 0:r.width,u.small])};var O=r(52322);let R=e=>{let{children:t,...r}=e,n=P();return(0,O.jsx)(T.Provider,{value:{...n,...r},children:t})},P=()=>{let[e,t]=(0,l.useState)(!1),r=()=>t(!1),[n,a]=(0,l.useState)(!1),o=()=>a(!1),{events:u}=(0,z.useRouter)();return(0,l.useEffect)(()=>{let e=()=>{r(),o()};return u.on("routeChangeStart",e),()=>u.off("routeChangeStart",e)},[u]),{showingAttribution:e,showAttribution:()=>{var e;null===(e=window)||void 0===e||e.scrollTo({top:0,behavior:"smooth"}),t(!0)},hideAttribution:r,showingGoPremium:n,showGoPremium:()=>a(!0),hideGoPremium:o}},D=(0,l.createContext)(null),L=()=>{let e=(0,l.useContext)(D);if(!e)throw Error("useIconItemContext has to be used within <IconItemContext.Provider");return e};var V=r(65939);let G=()=>{let{icon:e}=L(),t=N();return(0,V.fb)(e.id,t(e))},U=e=>{let{children:t,...r}=e,{showGoPremiumModal:n,hideGoPremiumModal:a,showingGoPremiumModal:o}=F(),{showAttributionModal:l,hideAttributionModal:u,showingAttributionModal:i}=H();return(0,O.jsx)(D.Provider,{value:{...r,showGoPremiumModal:n,hideGoPremiumModal:a,showingGoPremiumModal:o,showAttributionModal:l,hideAttributionModal:u,showingAttributionModal:i},children:t})},F=()=>{let[e,t]=(0,l.useState)(!1),r=(0,l.useCallback)(()=>{t(!0)},[]),n=(0,l.useCallback)(()=>t(!1),[]);return{hideGoPremiumModal:n,showGoPremiumModal:r,showingGoPremiumModal:e}},H=()=>{let[e,t]=(0,l.useState)(!1),r=(0,c.HV)(),n=(0,l.useCallback)(()=>{r||t(!0)},[r]),a=(0,l.useCallback)(()=>t(!1),[]);return{hideAttributionModal:a,showAttributionModal:n,showingAttributionModal:e}},M=(0,l.createContext)(null),W=()=>{let e=(0,l.useContext)(M);if(!e)throw Error("useIconListContext has to be used within <IconListContext.Provider");return e},Z=()=>W().icons,K=e=>{let{thumbnails:{small:{url:t}}}=e,{addParameterToThumbnailUrl:r}=W();return r(t)};var $=r(11451);let q=e=>{let{icons:t,page:r,fromView:n,term:a,modal:o=!0,children:u,track:i}=e,c=(0,l.useMemo)(()=>({fromView:n,term:a,page:r,items:t,track:i}),[n,a,r,t,i]),s=B(i);return(0,O.jsx)(M.Provider,{value:{icons:t,modal:o,addParameterToThumbnailUrl:s,track:i},children:(0,O.jsx)(p.bu,{...c,children:u})})},B=e=>{let t=(0,$.o)(e?[{key:"track",value:e}]:[]);return(0,l.useCallback)(e=>[e,t||[]].flat().join("?"),[t])},J=e=>Array.isArray(e),Q=["locale","sort","page","term","slug"],X=["category"],Y=["iconColor","shape","period","freeSvg"],ee={sort:"order",iconColor:"color"},et=[""],er=e=>ee[e]||e,en=(e,t)=>{let r=er(e);return Q.includes(e)||X.includes(e)?"".concat(r,"=").concat(t):"freeSvg"===e?"filters[free_svg]=".concat(t):Y.includes(e)?"filters[".concat(r,"]=").concat(t):"".concat(r,"[").concat(t,"]=1")},ea=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=[];t.forEach(e=>{J(e)?e.forEach(e=>{let[t,r]=e;r.length>0&&n.push(en(t,r))}):"string"==typeof e?n.concat(e.split("&")):Object.entries(e).forEach(e=>{let[t,r]=e;("number"==typeof r||r.length>0)&&n.push(en(t,r))})});let a=Array.from(new Set([...et,...n])).sort().join("&");return"&"===a[0]?a.slice(1):a};var eo=r(30195);eo.z.string().min(4).max(255).transform((e,t)=>{try{let t=e.split("_"),r=t[t.length-1];return eo.z.coerce.number().parse(r)}catch(e){return t.addIssue({code:eo.z.ZodIssueCode.custom,message:"ID could not be extracted from code"}),eo.z.NEVER}});let el=eo.z.object({url:eo.z.string().min(1),width:eo.z.number(),height:eo.z.number()}),eu=eo.z.array(eo.z.object({slug:eo.z.string(),name:eo.z.string()})),ei=eo.z.object({id:eo.z.number(),name:eo.z.string(),total:eo.z.number()}),ec=eo.z.object({id:eo.z.number(),name:eo.z.string(),slug:eo.z.string(),avatar:eo.z.string(),assets:eo.z.number()}),es=eo.z.object({id:eo.z.number(),name:eo.z.string(),created:eo.z.string(),slug:eo.z.string(),style:eo.z.object({id:eo.z.number(),name:eo.z.string()}).nullable(),author:ec,family:ei.nullable().optional(),thumbnails:eo.z.array(el).nonempty().transform(e=>({small:e[0],large:e[1]})),free_svg:eo.z.boolean().default(!1)}),ed=es.extend({}).transform(e=>{let{free_svg:t,...r}=e;return{...r,freeSvg:t}}),em=eo.z.object({style:eo.z.array(ed),visual_concept:eo.z.array(ed),variants:eo.z.array(ed)}).transform(e=>{let{visual_concept:t,variants:r,...n}=e;return{...n,visualConcept:t,equivalents:r}}),ef=es.extend({tags:eu,related:em}).transform(e=>{let{free_svg:t,...r}=e;return{...r,freeSvg:t}});eo.z.object({data:ef}),eo.z.object({data:eo.z.array(ed),meta:eo.z.object({pagination:eo.z.object({total:eo.z.number(),last_page:eo.z.number(),current_page:eo.z.number(),per_page:eo.z.number()}).transform(e=>{let{last_page:t,current_page:r,per_page:n,...a}=e;return{...a,lastPage:t,currentPage:r,perPage:n}}),description:eo.z.string().nullable(),related_terms:eu,tracking_code:eo.z.string().optional()}).transform(e=>{let{related_terms:t,tracking_code:r,...n}=e;return{...n,relatedTags:t,track:r}})}).transform(e=>{let{data:t,meta:{pagination:r,description:n,relatedTags:a,track:o}}=e;return{items:t,pagination:r,description:n,relatedTags:a,track:o}}),ei.extend({author:ec});let eg=ei.extend({author:ec,icons:eo.z.array(ed)});eo.z.object({data:eo.z.array(eg),meta:eo.z.object({pagination:eo.z.object({total:eo.z.number(),last_page:eo.z.number(),current_page:eo.z.number(),per_page:eo.z.number()}).transform(e=>{let{last_page:t,current_page:r,per_page:n,...a}=e;return{...a,lastPage:t,currentPage:r,perPage:n}})})}).transform(e=>{let{data:t,meta:{pagination:r}}=e;return{items:t,pagination:r}}),eo.z.enum(["original","copy"]),n.De.map(e=>e.toString())},53996:function(e,t,r){r.d(t,{Q:function(){return a}});var n=r(53476);let a=(0,n.CG)({key:"iconDetailQuery",get:e=>{let{locale:t,id:r}=e;return async()=>{if(null===r)return null;let e=await fetch("/api/icon?id=".concat(r,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch icon ".concat(r));return e.json()}},cachePolicy_UNSTABLE:{eviction:"lru",maxSize:12}})},10106:function(e,t,r){r.d(t,{G:function(){return a},v:function(){return n}});let n=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,a=!!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},17332:function(e,t,r){r.d(t,{V:function(){return o}});var n=r(2784),a=r(50096);let o=()=>{let e=(0,a.Jb)();return(0,n.useCallback)((t,r)=>{let n=document.createElement("a");n.style.display="none",n.href=t,r&&(n.download=r),void 0===n.download&&n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),e()},200)},[e])}}}]);
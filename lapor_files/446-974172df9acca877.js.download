"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{40446:function(e,t,r){r.d(t,{je:function(){return n.je},vr:function(){return n.vr},AU:function(){return n.AU},FILTERS_CONFIG:function(){return n.Og},EF:function(){return n.EF},ps:function(){return n.FILTERS_NAMES},FILTERS_VALUES:function(){return n.FILTERS_VALUES},tc:function(){return ex},Rw:function(){return m.Rw},eo:function(){return m.eo},bp:function(){return m.bp},e:function(){return m.e},IH:function(){return m.IH},Os:function(){return g},ln:function(){return eb},i1:function(){return l.i1},Z1:function(){return ep},nO:function(){return eg},E$:function(){return l.E$},iD:function(){return eE},u0:function(){return m.u0},oK:function(){return S},TU:function(){return eM},V$:function(){return ek},af:function(){return m.af},O8:function(){return eU},xs:function(){return l.xs},rs:function(){return eZ},oq:function(){return et},hX:function(){return eO},On:function(){return e_},BH:function(){return eV},gA:function(){return eA},Hh:function(){return eN},oh:function(){return d},K$:function(){return T},Wo:function(){return el},Bk:function(){return ei},TZ:function(){return eu},BN:function(){return ed},LT:function(){return eF},iS:function(){return eh},Fv:function(){return ev},O$:function(){return ey},Qg:function(){return I},sr:function(){return eL},fU:function(){return R.f},mT:function(){return eR},nq:function(){return eI},ze:function(){return eC}});var n=r(1514),l=r(94511),u=r(21805),o=r(30195);let a={group:[{name:"type",show:!0},{name:"license",show:!0},{name:"freeSvg",show:!0}],show:!1},i=o.z.object({group:o.z.array(o.z.object({name:o.z.string().max(60).regex(/^[a-z0-9_-]+$/i),show:o.z.boolean()})).default(a.group),show:o.z.boolean().default(a.show)}),s=u.Z.withConverter({write:function(e){return e}}),c=()=>{let e;let t="filters-config";return{get:()=>{try{let e=s.get(t);if(!e)return null;return i.parse(JSON.parse(e))}catch(e){return null}},set:r=>{clearTimeout(e),e=setTimeout(()=>{s.set(t,JSON.stringify(r),{expires:7})},700)}}},f=(e,t,r)=>{let n=e.group.findIndex(e=>e.name===t);return n>-1?[...e.group.slice(0,n),{name:t,show:r},...e.group.slice(n+1)]:[...e.group,{name:t,show:r}]},p=(e,t)=>{var r;return(null===(r=e.group.find(e=>e.name===t))||void 0===r?void 0:r.show)||!1},g=(()=>{let e=c(),t=e.get()||a,r=r=>{t=r,e.set(r)},n=e=>n=>{r({...t,[e]:n})},l=n("group");return{get:()=>t,set:r,setShow:n("show"),setGroup:l,groupIsVisible:e=>p(t,e),updateGroupVisibility:(e,r)=>l(f(t,e,r))}})();var E=r(53476);let S=(0,E.cn)({key:"isShowingFilters",default:a.show,effects:[e=>{let{onSet:t,setSelf:r}=e,n=async()=>{let e=new Promise(e=>e(g.get().show));r(await e)};n(),t((e,t,r)=>{e===t||r||g.setShow(e)})}]});var m=r(14819);let d=()=>(0,E.sJ)(m.eo);var F=r(78179),h=r(5632),v=r(2784),y=r(42181),L=r(57038),R=r(95472);let I=()=>{let e=(0,R.f)("type"),t=(0,L.mI)(),r=(0,L.aN)(),l=(0,L.WS)(),u=(0,L.R8)(),o=(0,v.useMemo)(()=>{let e=[n.Og.type.values.video,n.Og.type.values.icon];return t&&(e=[...e,n.Og.type.values.ai]),r&&(e=[...e,n.Og.type.values.psd]),l&&(e=[...e,n.Og.type.values.vector]),u&&(e=[...e,n.Og.type.values.photo]),e},[t,r,l,u]);return!!e&&o.includes(e)},T=()=>{let{push:e}=(0,h.useRouter)(),{domain:t}=(0,F.Vx)(),r=I();return(0,v.useCallback)(n=>{let l="/search?".concat((0,y.E)(n));if(r)e(l);else{let e="".concat(t).concat(l);location.href!==e?location.href="".concat(t).concat(l):location.reload()}},[t,r,e])},w=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.reduce((e,t)=>t(e),e)},{iconColor:A,shape:_,freeSvg:O}=n.FILTERS_NAMES,{iconColor:{solidBlack:V},shape:{handDrawn:N,linealColor:k},freeSvg:{free:M}}=n.FILTERS_VALUES,b=e=>e,U=e=>e?t=>t.filter(t=>{let[r,l]=t;return r!==n.FILTERS_NAMES.format||e.includes(l)}):b,C=e=>e?t=>t.some(e=>{let[t]=e;return t===n.FILTERS_NAMES.format})?t:[[n.FILTERS_NAMES.format,e],...t]:b,J=e=>w(U(e.allowed),C(e.default)),x=e=>e===n.FILTERS_NAMES.peopleAge||e===n.FILTERS_NAMES.peopleEthnicity||e===n.FILTERS_NAMES.peopleGender||e===n.FILTERS_NAMES.peopleRange,Z=e=>!!e&&x(e),K=e=>{let t=e.reduceRight((e,t)=>{let[r,l]=t,u=n.Og[r];if(!u)return e;let o="checkbox"===u.type;return e.find(e=>{let[t,n]=e,u=t===r;return o?u&&n===l:u})?e:[t,...e]},[]);return e.length===t.length?e:t},$=["type","format","term","sort","page"],z=J({allowed:[n.Og.format.values.collections,n.Og.format.values.search],default:n.Og.format.values.search}),D=J({allowed:[n.Og.format.values.families,n.Og.format.values.search],default:n.Og.format.values.search}),X=J({allowed:[n.Og.format.values.search],default:n.Og.format.values.search}),P=w(K,e=>{let t=(0,l.p2)((0,l.if)(n.FILTERS_NAMES.term,(0,l.ws)(e))),r=(0,l.p2)((0,l.if)(n.FILTERS_NAMES.fromQuery,(0,l.ws)(e)));return r&&t!==r?e.filter(e=>{let[t]=e;return t!==n.FILTERS_NAMES.fromQuery}):e},e=>{let t=e[e.length-1];return t&&"page"!==t[0]?e.filter(e=>{let[t]=e;return"page"!==t}):e}),j=["color","license","orientation","quickEdit","freepikChoice","fromQuery"],G=w((0,l.KX)([...$,"license","resolution","fps","topic","videoType","duration","aspectRatio"]),X,P,e=>e.filter(e=>{let[t,r]=e;return"duration"!==t||r!==n.Og.duration.values.default}),e=>l.wF.lastFilterValue("aspectRatio",e)?e:[["aspectRatio",n.vr],...e]),B=w((0,l.KX)([...$,"iconColor","shape","freeSvg"]),P,D,e=>{let t=(0,l.p2)((0,l.if)(n.FILTERS_NAMES.shape,(0,l.ws)(e)));return t===n.FILTERS_VALUES.shape.handDrawn?e.filter(e=>{let[t,r]=e;return t!==n.FILTERS_NAMES.iconColor||r!==n.FILTERS_VALUES.iconColor.gradient}):t===n.FILTERS_VALUES.shape.linealColor?e.filter(e=>{let[t,r]=e;return t!==n.FILTERS_NAMES.iconColor||r!==n.FILTERS_VALUES.iconColor.solidBlack}):e},e=>{let t=(0,l.p2)((0,l.if)(n.FILTERS_NAMES.iconColor,(0,l.ws)(e)));return t===n.FILTERS_VALUES.iconColor.solidBlack?e.filter(e=>{let[t,r]=e;return t!==n.FILTERS_NAMES.shape||r!==n.FILTERS_VALUES.shape.linealColor}):t===n.FILTERS_VALUES.iconColor.gradient?e.filter(e=>{let[t,r]=e;return t!==n.FILTERS_NAMES.shape||r!==n.FILTERS_VALUES.shape.handDrawn}):e},e=>{let t=(0,l.p2)((0,l.if)(O,(0,l.ws)(e)));return t===M?e.filter(e=>{let[t,r]=e;return(t!==A||r===V)&&(t!==_||r!==N&&r!==k)}):e}),H=w((0,l.KX)([...$,...j,"tool","hasPrompt"]),P,X),Q=w((0,l.KX)([...$,...j]),P,z),q=w((0,l.KX)([...$,...j,"fileType","style"]),P,z),W=w((0,l.KX)([...$,...j,"people","peopleRange","peopleAge","peopleGender","peopleEthnicity","aiGenerated"]),P,e=>{let t=(0,l.p2)((0,l.if)(n.FILTERS_NAMES.people,(0,l.ws)(e))),r=(0,l.Yo)(e),u=e.some(e=>{let[t]=e;return x(t)});return u&&!t?[["people",n.FILTERS_VALUES.people.include],...e]:Z(r)&&t===n.FILTERS_VALUES.people.exclude?[["people",n.FILTERS_VALUES.people.include],...e.filter(e=>{let[t]=e;return t!==n.FILTERS_NAMES.people})]:u&&t===n.FILTERS_VALUES.people.exclude?e.filter(e=>{let[t]=e;return!x(t)}):e},z),Y=w((0,l.KX)($),K,e=>l.wF.lastFilterValue("term",e)?e.filter(e=>{let[t]=e;return"sort"!==t}):l.wF.lastFilterValue("sort",e)?e:[["sort","relevance"],...e]),ee=e=>t=>l.wF.lastFilterValue("type",t)===e,et=e=>ee(n.Og.type.values.video)(e)?G(e):ee(n.Og.type.values.icon)(e)?B(e):ee(n.Og.type.values.ai)(e)?H(e):ee(n.Og.type.values.psd)(e)?Q(e):ee(n.Og.type.values.vector)(e)?q(e):ee(n.Og.type.values.photo)(e)?W(e):Y(e),er=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=et(e),r=(0,v.useRef)(t);return(0,v.useMemo)(()=>((0,l.A1)(r.current,t)||(r.current=t),r.current),[t])},en=o.z.coerce.number().default(1).catch(1),el=()=>{let e=(0,E.sJ)((0,m.af)("page"));return en.parse(null!=e?e:1)},eu=e=>(0,E.sJ)((0,m.IH)(e));var eo=r(60418),ea=r(18033);let ei=(e,t)=>{let r=T(),n=(0,ea.D)();return(0,E._8)(u=>{let{set:o,snapshot:a}=u;return async u=>{let i=await a.getPromise(m.eo),s=et((0,l.J$)({name:e,value:u,activeFilters:i}));if(!(0,eo.vZ)(i,s)&&(o(m.eo,s),t)){let t=[e,u];n(t),r(s)}}},[r,e,n,t])};var es=r(78640),ec=r(81325);let ef=e=>e in n.yp,ep=e=>ef(e)?n.yp[e].title:e,eg=(e,t)=>{if(!ef(e)||!("values"in n.yp[e]))return t;let r=n.yp[e].values;return t in r?r[t]:t},eE=(e,t)=>t&&"relevance"===e?"common:mostRelevant":eg("sort",e),eS=["resolution","aspectRatio"],em=e=>e.split(",").map(e=>{let t=Number(e);return t>=120?"+02:00":(0,es.Z)(t)}).join(" - "),ed=e=>{let{name:t,value:r}=e,{t:l}=(0,ec.$G)("common");return(0,v.useMemo)(()=>{if("duration"===t)return em(r);if("peopleRange"===t){let e=r===n.FILTERS_VALUES.peopleRange.number1?l("person"):l("people"),t=r===n.FILTERS_VALUES.peopleRange.number4?"4+":r;return"".concat(t," ").concat(e)}return eS.includes(t)?r:l(eg(t,r))},[t,l,r])},eF=()=>{let e=(0,E.sJ)(m.Nt),t=(0,L.mI)();return e&&t},eh=()=>(0,E.sJ)(m.nm),ev=()=>{let e=(0,E.sJ)(m.y2),t=(0,L.aN)();return e&&t},ey=()=>{let e=(0,E.sJ)(m.P$),t=(0,L.WS)();return e&&t},eL=()=>(0,R.f)("type"),eR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=T(),r=(0,v.useCallback)(t=>(0,l.KX)(["format","sort","term",...e])(t),[e]);return(0,E.kJ)(e=>{let{get:n,set:l}=e;return()=>{let e=r(n(m.eo));l(m.eo,e),t(e)}},[r,t])},eI=e=>{let{locale:t}=(0,F.Vx)(),r=(0,E.$P)(e(t));return(0,v.useMemo)(()=>{if(!r||"loading"===r.state)return{state:"loading"};if("hasValue"!==r.state)return{state:"hasError"};let e=r.contents;return{state:"hasValue",contents:e}},[r])};var eT=r(52322),ew=r(23188);let eA=(0,E.cn)({key:"searchForm.term",default:n.Og.term.defaultValue}),e_=(0,E.nZ)({key:"searchForm.termIsEmpty",get:e=>{let{get:t}=e,r=t(eA);return 0===r.length}}),eO=(0,E.cn)({key:"searchForm.termIsDirty",default:!1}),eV=(0,E.cn)({key:"searchForm.termIsFocused",default:!1}),eN=(0,E.cn)({key:"searchForm.type",default:null}),ek=(0,E.nZ)({key:"searchForm.isTypeVideoDisabled",get:e=>{let{get:t}=e,r=t(eb);return r===n.Og.format.values.collections}}),eM=(0,E.nZ)({key:"searchForm.isTypeAIDisabledState",get:e=>{let{get:t}=e,r=t(eb);return r===n.Og.format.values.collections}}),eb=(0,E.cn)({key:"searchFormFormat",default:n.Og.format.defaultValue});(0,E.nZ)({key:"searchFormisFormatCollectionsDisabled",get:e=>{let{get:t}=e,r=t(eN);return r===n.Og.type.values.video||r===n.Og.type.values.ai||r===n.Og.type.values.icon}});let eU=(0,E.cn)({key:"searchFormLicense",default:null});(0,E.nZ)({key:"searchForm.isLicenseFieldDisabled",get:e=>{let{get:t}=e,r=t(eN);return r===n.Og.type.values.icon}});let eC=()=>{let e=(0,E.sJ)((0,m.af)("term")),t=(0,E.sJ)((0,m.af)("type")),r=(0,E.sJ)((0,m.af)("license")),n=(0,E.sJ)((0,m.af)("format")),l=(0,E.kJ)(l=>{let{set:u}=l;return()=>{e&&u(eA,e),u(eN,t),u(eU,r),n&&u(eb,n)}},[n,r,e,t]);(0,v.useEffect)(()=>{l()},[l])},eJ=(0,v.createContext)(void 0),ex=e=>{let{children:t,filters:r}=e,l=er(r),u=(0,E.kJ)(e=>{let{set:t}=e;return()=>{l&&(t(m.eo,l),t(eA,ew.w.lastFilterValue("term",l)||n.Og.term.defaultValue),t(eO,!1),t(eN,ew.w.lastFilterValue("type",l)),t(eb,ew.w.lastFilterValue("format",l)||n.Og.format.defaultValue),t(eU,ew.w.lastFilterValue("license",l)))}},[l]);(0,v.useEffect)(()=>{u()},[u]);let o=(0,v.useMemo)(()=>({values:l,reset:u}),[l,u]);return(0,eT.jsx)(eJ.Provider,{value:o,children:t})},eZ=e=>t=>{let{set:r}=t;if(e){let t=et(e);r(m.eo,t),r(eA,l.wF.lastFilterValue("term",t)||n.Og.term.defaultValue),r(eO,!1),r(eN,l.wF.lastFilterValue("type",t)),r(eb,l.wF.lastFilterValue("format",t)||n.Og.format.defaultValue),r(eU,l.wF.lastFilterValue("license",t))}}},78640:function(e,t,r){r.d(t,{Z:function(){return u},w:function(){return o}});let n=e=>e<10?"0".concat(e):e,l=e=>{let t=Math.floor(e/60);return{minutes:t,seconds:e-60*t}},u=e=>{let{minutes:t,seconds:r}=l(e);return"".concat(n(t),":").concat(n(r))},o=e=>{let{minutes:t,seconds:r}=l(e);return"PT".concat(t>0?"".concat(t,"M"):"").concat(r,"S")}}}]);